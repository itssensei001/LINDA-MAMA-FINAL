<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Login Page</title>
    <style>
        :root {
    --hospital-blue: #4299E1;
    --light-blue: #EBF8FF;
    --accent-green: #48BB78;
    --accent-purple: #9F7AEA;
    --accent-pink: #ED64A6;
    --soft-gray: #F7FAFC;
    --text-dark: #2D3748;
}

/* Enhanced Sidebar */
.sidebar {
    height: 100vh;
    position: fixed;
    top: 0;
    left: 0;
    width: 250px;
    background: linear-gradient(135deg, var(--hospital-blue), #2B6CB0);
    padding: 2rem 1rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1);
    z-index: 1000;
}

.sidebar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 100%);
    pointer-events: none;
}

.main-content {
    margin-left: 250px;
    padding: 2rem;
    min-height: 100vh;
    background: var(--soft-gray);
    transition: margin-left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced Floating Cards */
.floating-card {
    background: white;
    border-radius: 1rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 
                0 10px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.floating-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--hospital-blue), var(--accent-purple));
    opacity: 0;
    transition: opacity 0.3s ease;
}

.floating-card:hover {
    transform: translateY(-5px) scale(1.01);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1),
                0 20px 30px rgba(0, 0, 0, 0.08);
}

.floating-card:hover::before {
    opacity: 1;
}

/* Enhanced Navigation Links */
.nav-link {
    color: white;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    margin-bottom: 0.75rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0));
    transform: translateX(-100%);
    transition: transform 0.3s ease;
}

.nav-link:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateX(5px);
}

.nav-link:hover::before {
    transform: translateX(0);
}

.nav-link.active {
    background: rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.nav-link i {
    margin-right: 0.75rem;
    font-size: 1.25rem;
    transition: transform 0.3s ease;
}

.nav-link:hover i {
    transform: scale(1.2);
}

/* Buttons and Interactive Elements */
button {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

button::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 5px;
    height: 5px;
    background: rgba(255, 255, 255, 0.5);
    opacity: 0;
    border-radius: 100%;
    transform: scale(1, 1) translate(-50%);
    transform-origin: 50% 50%;
}

button:active::after {
    animation: ripple 0.6s ease-out;
}

@keyframes ripple {
    0% {
        transform: scale(0, 0);
        opacity: 0.5;
    }
    100% {
        transform: scale(40, 40);
        opacity: 0;
    }
}

/* Status Indicators */
.status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-weight: 500;
    transition: all 0.3s ease;
}

.status-badge:hover {
    transform: scale(1.05);
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .sidebar {
        transform: translateX(-100%);
        width: 0;
        padding: 0;
    }
    
    .main-content {
        margin-left: 0;
    }
    
    .sidebar.active {
        transform: translateX(0);
        width: 250px;
        padding: 2rem 1rem;
    }
}


/* Card Hover Effects */
.hover-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 20px rgba(0, 0, 0, 0.1);
}

/* Icons Animation */
.icon-pulse {
    animation: iconPulse 2s infinite;
}

@keyframes iconPulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
    }
}

/* Gradient Text */
.gradient-text {
    background: linear-gradient(90deg, var(--hospital-blue), var(--accent-purple));
    -webkit-background-clip: text;
    background-clip: text; /* Safari, Chrome */
    -webkit-text-fill-color: transparent;
    animation: gradientFlow 3s ease infinite;
    background-size: 200% auto;
}

@keyframes gradientFlow {
    0% {
        background-position: 0% center;
    }
    50% {
        background-position: 100% center;
    }
    100% {
        background-position: 0% center;
    }
}

/* Position the popup above the clicked name */
    .popup {
    position: absolute;
    background: white;
    padding: 10px;
    border-radius: 5px;
    box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.2);
    text-align: center;
    z-index: 1000;
    width: 150px;
    font-size: 14px;
    font-weight: bold;
    color: black;
    display: none;  /* Hides the popup initially */
}


    /* Style the buttons */
    .popup button {
        background: red;
        color: white;
        border: none;
        padding: 5px;
        margin: 5px;
        cursor: pointer;
        border-radius: 3px;
    }

    .popup button:hover {
        background: darkred;
    }

    #logout-popup {
    position: absolute !important; /* Force absolute positioning */
    display: none;
    background: white;
    padding: 10px;
    border-radius: 5px;
    opacity: 70%;
    box-shadow: 0px 4px 6px rgba(0,0,0,0.1);
    z-index: 999; /* Ensure it appears above other elements */
}


</style>

</head>
<body class="bg-gray-50">
    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="mb-8">
            <h2 class="text-white text-xl font-bold mb-4 gradient-text">
                <i class="fas fa-hospital-user mr-2"></i>
                Linda Mama
            </h2>
        </div>

        <div class="space-y-2">
            <a href="doctor_dashboard.html" class="nav-link active">
                <i class="fas fa-home icon-pulse"></i>
                Dashboard
            </a>
            <a href="health-monitoring.html" class="nav-link">
                <i class="fas fa-heartbeat"></i>
                Health Monitoring
            </a>
            <a href="questions.html" class="nav-link">
                <i class="fas fa-question-circle"></i>
                Questions
            </a>
            <a href="updates.html" class="nav-link">
                <i class="fas fa-bell"></i>
                Updates
            </a>
        </div>

        <div class="absolute bottom-8 left-0 right-0 px-4">
            <div class="text-white text-sm bg-white bg-opacity-10 p-4 rounded-lg">
                <div class="flex items-center mb-2">
                    <i class="fas fa-user-md mr-2"></i>
                    <p class="opacity-70">Logged in as</p>
                </div>
                <p id="doctor-name" onclick="toggleLogoutPopup()">Dr. {{ user_name }}</p>
                
                <!-- Popup Modal for Logout -->
                <div id="logout-popup" class="popup">
                    <p>Do you want to logout?</p>
                    <button onclick="logout()">Logout</button>
                    <button onclick="toggleLogoutPopup()">Cancel</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="mb-8 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-gray-800 gradient-text">
                <i class="fas fa-clinic-medical mr-2"></i>
                Doctor's Dashboard
            </h1>
            <button class="md:hidden text-gray-600" aria-label="Open Menu" id="menu-toggle">
                <i class="fas fa-bars text-2xl"></i>
            </button>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Patient Profiles Section -->
            <div class="floating-card p-6">
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center">
                        <i class="fas fa-users text-blue-500 text-2xl mr-3"></i>
                        <h2 class="text-xl font-semibold text-gray-800">Patient Profiles</h2>
                    </div>
                    <span class="status-badge bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm">
                        <i class="fas fa-user-check mr-1"></i>
                        4 Active
                    </span>
                </div>
                <ul class="space-y-3">
                    <li
                        class="hover-card p-3 bg-white rounded-lg cursor-pointer transition duration-200 flex items-center">
                        <div class="w-10 h-10 bg-blue-200 rounded-full flex items-center justify-center mr-3">
                            <span class="text-blue-700 font-medium">EO</span>
                        </div>
                        <div class="flex-grow">
                            <span class="font-medium">1. Edna Olivia</span>
                            <p class="text-sm text-gray-500">Last visit: Today</p>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </li>
                    <li
                        class="hover-card p-3 bg-white rounded-lg cursor-pointer transition duration-200 flex items-center">
                        <div class="w-10 h-10 bg-green-200 rounded-full flex items-center justify-center mr-3">
                            <span class="text-green-700 font-medium">KM</span>
                        </div>
                        <div class="flex-grow">
                            <span class="font-medium">2. Karl Mutua</span>
                            <p class="text-sm text-gray-500">Last visit: Yesterday</p>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </li>
                    <li
                        class="hover-card p-3 bg-white rounded-lg cursor-pointer transition duration-200 flex items-center">
                        <div class="w-10 h-10 bg-purple-200 rounded-full flex items-center justify-center mr-3">
                            <span class="text-purple-700 font-medium">GN</span>
                        </div>
                        <div class="flex-grow">
                            <span class="font-medium">3. Grace Njuguna</span>
                            <p class="text-sm text-gray-500">Last visit: 2 days ago</p>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </li>
                    <li
                        class="hover-card p-3 bg-white rounded-lg cursor-pointer transition duration-200 flex items-center">
                        <div class="w-10 h-10 bg-pink-200 rounded-full flex items-center justify-center mr-3">
                            <span class="text-pink-700 font-medium">IK</span>
                        </div>
                        <div class="flex-grow">
                            <span class="font-medium">4. Immaculate Kamau</span>
                            <p class="text-sm text-gray-500">Last visit: 3 days ago</p>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </li>
                </ul>
                <button class="mt-6 text-blue-600 hover:text-blue-800 flex items-center group">
                    <i class="fas fa-plus-circle mr-2 transform group-hover:scale-110 transition-transform"></i>
                    Add New Patient
                </button>
            </div>

            <!-- Right Column -->
            <div class="space-y-6">
                <!-- Pregnancy Questions Section -->
                <div class="floating-card p-6">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-question-circle text-purple-500 text-2xl mr-3"></i>
                        <h2 class="text-xl font-semibold text-gray-800">Pregnancy-related questions</h2>
                    </div>
                    <ul class="space-y-4">
                        <li class="hover-card p-4 bg-red-50 rounded-lg border-l-4 border-red-500">
                            <div class="flex items-center">
                                <i class="fas fa-exclamation-circle text-red-500 mr-2"></i>
                                <span class="text-red-800">Can a human impregnate a cat?</span>
                            </div>
                        </li>
                        <li class="hover-card p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
                            <div class="flex items-center">
                                <i class="fas fa-question-circle text-yellow-500 mr-2"></i>
                                <span class="text-yellow-800">How do I know my cat is pregnant?</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Schedule Section -->
                <div class="floating-card p-6">
                    <div class="flex items-center mb-6">
                        <i class="fas fa-calendar-alt text-green-500 text-2xl mr-3"></i>
                        <h2 class="text-xl font-semibold text-gray-800">Schedule for Consultations</h2>
                    </div>
                    <div class="space-y-4">
                        <div class="hover-card p-4 bg-green-50 rounded-lg flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-video text-green-600 mr-3"></i>
                                <span class="text-green-800">Virtual Consultations</span>
                            </div>
                            <span class="status-badge bg-green-200 text-green-800 px-3 py-1 rounded-full text-sm">
                                3 Today
                            </span>
                        </div>
                        <div class="hover-card p-4 bg-blue-50 rounded-lg flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-user-md text-blue-600 mr-3"></i>
                                <span class="text-blue-800">In-person check ups</span>
                            </div>
                            <span class="status-badge bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm">
                                2 Today
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Mobile menu toggle
        document.getElementById('menu-toggle').addEventListener('click', function () {
            document.querySelector('.sidebar').classList.toggle('active');
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function (e) {
            if (window.innerWidth <= 768) {
                const sidebar = document.querySelector('.sidebar');
                const menuToggle = document.getElementById('menu-toggle');
                if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('active');
                }
            }
        });

        function toggleLogoutPopup() {
                var popup = document.getElementById("logout-popup");
                var doctorName = document.getElementById("doctor-name");

                if (!popup || !doctorName) {
                    console.error("Popup or doctor name element not found.");
                    return;
                }

                let rect = doctorName.getBoundingClientRect();

                let newTop = rect.top + window.scrollY - popup.offsetHeight - 700;  // Position above
            let newLeft = rect.left + window.scrollX;  // Align left

            console.log("Calculated Position:", { top: newTop, left: newLeft }); // Debugging

            popup.style.position = "absolute";
            popup.style.top = newTop + "px";
            popup.style.left = newLeft + "px";
            popup.style.display = (popup.style.display === "block") ? "none" : "block";
        }


            function logout() {
                fetch('/logout', { method: 'POST' })  // Call Flask logout route
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            window.location.href = "/login"; // Redirect to login page
                        }
                    });
            }
    </script>
</body>

</html>